<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        /* to remove the top and left whitespace */

        html,
        body {
            width: 100%;
            height: 100%;
        }

        /* just to be sure these are full screen*/

        canvas {
            display: block;
            background-color: rgb(0, 0, 0);
        }

        /* To remove the scrollbars */
    </style>
</head>

<body>
    <canvas id="canvas"></canvas>
    <script>
        const canvas = document.querySelector('#canvas');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;





        // 키보드 입력 이벤트 처리
        // document.onkeydown = keyDownEventHandler;
        // function keyDownEventHandler(e) {
        //     if (e.keyCode == 38 && direction != 1) direction = 0; // up
        //     else if (e.keyCode == 40 && direction != 0) direction = 1; // down
        //     else if (e.keyCode == 37 && direction != 3) direction = 2; // left
        //     else if (e.keyCode == 39 && direction != 2) direction = 3; // right
        // }


        characterMove(direction) {
            switch (direction) {
                case 0: y -= 1; break;
                case 1: y += 1; break;
                case 2: x -= 1; break;
                case 3: x += 1; break;
                default: return;
            }
        };

        function keyDownEventHandler(e) {
            if (e.keyCode == 38 && direction != 1) direction = 0; // up
            else if (e.keyCode == 40 && direction != 0) direction = 1; // down
            else if (e.keyCode == 37 && direction != 3) direction = 2; // left
            else if (e.keyCode == 39 && direction != 2) direction = 3; // right
        }


        let count = 0;

        let character = {
            x: canvas.width * 0.5,
            y: canvas.height * 0.5,
            width: 100,
            height: 100,

        },
            drow() {
                let direction;
                count++;
                console.log(count);
                document.onkeydown = keyDownEventHandler;

                if (count % 50 === 0) {
                    const imgElem = new Image();
                    imgElem.src = '../images/cat_front.png';
                    imgElem.addEventListener('load', () => {
                        ctx.drawImage(imgElem, this.x - this.width * 0.5, this.y - this.height * 0.5, this.width, this.height);
                    })



                }
            }
            ;
        requestAnimationFrame(character.drow);

        function init() {

        }


    </script>
</body>

</html>